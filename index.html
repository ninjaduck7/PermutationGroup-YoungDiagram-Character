<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ç½®æ¢ç¾¤ä¸å¯çº¦è¡¨ç¤ºç‰¹å¾æ ‡ Â· Young å›¾æ³•ï¼ˆè§„åˆ™æ€ªè°ˆç‰ˆï¼‰</title>

  <!-- KaTeX æ•°å­¦å­—ä½“æ”¯æŒ -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
          onload="renderMathInElement(document.body);"></script>

  <!-- å­—ä½“ä¸æ ·å¼ -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#fafbff;--ink:#1e293b;--muted:#64748b;--accent:#2563eb;
      --border:#e2e8f0;--card-bg:#ffffff;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family: 'Times New Roman', 'å®‹ä½“', SimSun, serif;
      background:var(--bg);color:var(--ink);padding:32px;
      line-height:1.7;min-height:100vh;
    }
    .container{max-width:1020px;margin:auto}
    h1{text-align:center;font-size:30px;font-weight:700;color:var(--accent);margin-bottom:12px}
    h2,h3{color:var(--accent);margin-top:24px;margin-bottom:8px}
    p,li{margin-top:6px;margin-bottom:6px}
    ul{margin-left:24px}
    code{background:#f1f5f9;padding:2px 4px;border-radius:4px;font-family:'JetBrains Mono',monospace}
    .card{
      background:var(--card-bg);border:1px solid var(--border);
      border-radius:12px;padding:22px 26px;margin-bottom:24px;
      box-shadow:0 3px 8px rgba(0,0,0,0.05);
    }
    .input{display:flex;flex-wrap:wrap;gap:16px;margin-bottom:16px}
    label{font-size:13px;color:var(--muted)}
    input{
      background:#f8fafc;border:1px solid var(--border);
      border-radius:6px;padding:8px 12px;font-family:'JetBrains Mono',monospace;
      font-size:14px;min-width:180px;
    }
    input:focus{outline:2px solid var(--accent);border-color:var(--accent)}
    button{
      background:var(--accent);color:white;border:none;border-radius:8px;
      padding:8px 14px;font-weight:600;cursor:pointer;transition:0.2s;
    }
    button:hover{filter:brightness(1.05)}
    .pill{
      background:#eef2ff;color:#334155;padding:4px 10px;
      border-radius:8px;display:inline-block;font-size:13px;margin:4px 6px 4px 0;
    }
    .svgwrap{
      overflow:auto;border:1px solid #e5e7eb;border-radius:8px;
      background:#f9fafb;padding:8px;margin-top:8px;
    }
    .fill-card{
      background:#f8fafc;border:1px solid #e5e7eb;border-radius:8px;
      padding:10px;margin-bottom:12px;
    }
    .flow{
      display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:10px;
    }
    .good{color:#16a34a}.bad{color:#dc2626}.warn{color:#f59e0b}
    footer{text-align:center;font-size:12px;color:#94a3b8;margin-top:30px;}
    .math-section{margin-bottom:40px}
  </style>
</head>

<body>
    
  <div class="container">
    <h1>ç½®æ¢ç¾¤ä¸å¯çº¦è¡¨ç¤ºçš„ç‰¹å¾æ ‡è®¡ç®—</h1>
    <p class="sub" style="text-align:center;color:#64748b;">  åœ¨çº¿å¯è§†åŒ–æ¼”ç¤º</p>
 <div style="text-align:center;margin-bottom:20px;font-family:'Times New Roman','å®‹ä½“',serif;">
    <div style="font-size:20px;font-weight:600;letter-spacing:0.3px;color:#1e293b;">
      åŒ—äº¬ç†å·¥å¤§å­¦ ç‰©ç†å­¦é™¢ Â· 2025çº§
    </div>
    <div style="font-size:15px;color:#475569;margin-top:4px;">
      <b>TJM</b> â€” æ ¸å¿ƒæ•°å­¦æ¡†æ¶ï¼ˆMain Contributorï¼‰<br>
      <b>ZYF</b> â€” ç½‘é¡µæ„å»ºä¸å¯è§†åŒ–ï¼ˆWeb Implementationï¼‰
    </div>
  </div>
    <!-- ========== æ•°å­¦è®²è§£éƒ¨åˆ† ========== -->
    <div class="math-section">
      <h2>ä¸€ã€ä»ç½®æ¢ç¾¤åˆ°ä¸å¯çº¦è¡¨ç¤º</h2>
      <p>ç½®æ¢ç¾¤ \( S_n \) æ˜¯æ‰€æœ‰ \( n \) ä¸ªå…ƒç´ çš„é‡æ’ã€‚ä¾‹å¦‚ï¼š</p>
      <p>\[(1,2,3)(4,5)\] è¡¨ç¤º 1â†’2â†’3â†’1ï¼Œä¸” 4â†”5ã€‚</p>
      <p>ä¸¤ä¸ªç½®æ¢è‹¥å¾ªç¯ç»“æ„ç›¸åŒï¼Œå°±å±äºåŒä¸€ä¸ªå…±è½­ç±»ã€‚</p>

      <h2>äºŒã€ä»å¾ªç¯ç±»å‹åˆ°â€œå…±è½­ç±»â€ä¸â€œé…åˆ†â€</h2>
      <p>æ¯ä¸ªç½®æ¢å¯ç”±å¾ªç¯ç±»å‹ï¼ˆcycle typeï¼‰è¡¨ç¤ºï¼Œä¾‹å¦‚ï¼š</p>
      <p>\[(1,2,3)(4,5)\Rightarrow 3+2=(3,2)\]</p>
      <p>å³ 3-å¾ªç¯ä¸€ä¸ªã€2-å¾ªç¯ä¸€ä¸ªã€‚æ¯ä¸ªå…±è½­ç±» â†” ä¸€ä¸ªé…åˆ† â†” ä¸€ä¸ªä¸å¯çº¦è¡¨ç¤ºã€‚</p>

      <h2>ä¸‰ã€Young å›¾ä¸ Young ç›˜</h2>
      <p>é…åˆ† \([Î»]=(3,2)\) ç”»æˆ Young å›¾ï¼š</p>
      <p>\[
      \begin{matrix}
      \Box & \Box & \Box \\
      \Box & \Box
      \end{matrix}
      \]</p>

     <h2>å››ã€ç‰¹å¾æ ‡è®¡ç®—çš„å›¾å½¢æ–¹æ³•ï¼ˆè§„åˆ™æ€ªè°ˆè¿™ä¸€å—å„¿ï¼‰</h2>
<ul>
  <li>ğŸ§© <b>è§„åˆ™ 1ï¼ˆå›¾å½¢å¬å”¤ï¼‰ï¼š</b>  
    ç»™å®šé…åˆ† \( \lambda = (\lambda_1,\lambda_2,\ldots) \)ï¼Œç”»å‡ºå…¶ <b>Young å›¾</b>ã€‚  
    è¯¥å›¾è¡¨ç¤ºä¸å¯çº¦è¡¨ç¤º \( V^\lambda \) çš„å¯¹ç§°æ€§ç»“æ„ï¼Œè¡Œé•¿åº¦ä¸º \(\lambda_i\)ã€‚  
  </li>

  <li>ğŸŒ€ <b>è§„åˆ™ 2ï¼ˆå¾ªç¯åŒ–èº«ï¼‰ï¼š</b>  
    è®¾ç¾¤å…ƒç´ çš„å¾ªç¯ç»“æ„ä¸º  
    \[
    (1^{v_1} 2^{v_2} \cdots n^{v_n}),
    \]
    å³åŒ…å« \(v_k\) ä¸ªé•¿åº¦ä¸º \(k\) çš„å¾ªç¯ã€‚  
    ä¸ºæ¯ä¸ªå¾ªç¯åˆ†é…ä¸€ä¸ªâ€œç¬¦å·ç»„â€ï¼ˆå…± \(v_1+v_2+\cdots\) ç»„ï¼‰ï¼Œç¬¬ \(i\) ç»„å« \(k_i\) ä¸ªç›¸åŒæ•°å­—ã€‚
  </li>

    <li>ğŸ§® <b>è§„åˆ™ 3ï¼ˆè›‡å½¢å¡«å……ï¼‰ï¼š</b>  
    å°†å„ç¬¦å·ç»„ä¾æ¬¡å¡«å…¥ Young å›¾ï¼Œè¦æ±‚ï¼š
    <ul>
        <li>æ¯ä¸ªå¾ªç¯çš„ \(k_i\) ä¸ªç›¸åŒæ•°å­—å¿…é¡»è¿é€šï¼›</li>
        <li>åªèƒ½â€œå‘ä¸Šæˆ–å‘å³â€å»¶å±•ï¼Œä¸”ä¼˜å…ˆå‘ä¸Šï¼›</li>
        <li>è¡Œå†…ä¸åˆ—å†…å‡éœ€ä¿æŒå¼±å•è°ƒæ€§ï¼ˆä¸é€’å‡ï¼‰ï¼›</li>
        <li>æ¯ä¸ªæ–¹æ ¼ä»…èƒ½è¢«ä¸€ä¸ªå¾ªç¯ç¬¦å·å æ®ã€‚</li>
    </ul>
    <div style="text-align:center;margin-top:10px;margin-bottom:10px;">
        <img src="snake.png" alt="è›‡å½¢å¡«å……ç¤ºæ„å›¾" style="max-width:420px;border:1px solid #ddd;border-radius:8px;">
        <div style="font-size:13px;color:#64748b;">å›¾ï¼šè›‡å½¢å¡«å……ç¤ºæ„ï¼ˆå‘ä¸Šä¼˜å…ˆï¼Œå…¶æ¬¡å‘å³ï¼‰</div>
    </div>
    </li>

  <li>ğŸš« <b>è§„åˆ™ 4ï¼ˆéæ³•å½’é›¶ï¼‰ï¼š</b>  
    è‹¥æŸä¸€ç»„å¾ªç¯ç¬¦å·æ— æ³•åœ¨å›¾ä¸­åˆæ³•æ”¾ç½®ï¼ˆç©ºé—´ä¸è¶³æˆ–è¿åå•è°ƒæ¡ä»¶ï¼‰ï¼Œåˆ™è¯¥ç§å¡«å……ä¸è´¡çŒ®æƒé‡ï¼ˆè®°ä¸º 0ï¼‰ã€‚
  </li>

  <li>âš–ï¸ <b>è§„åˆ™ 5ï¼ˆç¬¦å·åˆ¤å®šï¼‰ï¼š</b>  
    å¯¹äºæ¯ç§åˆæ³•å¡«å……ï¼Œå®šä¹‰ç¬¦å·ï¼š
    è‹¥æŸå¾ªç¯åœ¨æ”¾ç½®è¿‡ç¨‹ä¸­ç»è¿‡å¥‡æ•°æ¬¡â€œå‘ä¸Šç§»åŠ¨â€ï¼Œåˆ™è´¡çŒ®å› å­ \(-1\)ï¼›  
    å¦åˆ™è´¡çŒ® \(+1\)ã€‚  
    æ•´ä½“ç¬¦å· \(s(\text{å¡«å……})\) ä¸ºå„å¾ªç¯ç¬¦å·çš„ä¹˜ç§¯ã€‚
  </li>

  <li>â™»ï¸ <b>è§„åˆ™ 6ï¼ˆä»£æ•°æ±‚å’Œï¼‰ï¼š</b>  
    ç‰¹å¾æ ‡ä¸ºæ‰€æœ‰åˆæ³•å¡«å……çš„ç¬¦å·ä»£æ•°å’Œï¼š
    \[
      \chi^{[\lambda]}_{(1^{v_1}2^{v_2}\cdots)} = 
      \sum_{\text{æ‰€æœ‰åˆæ³•å¡«å…… } T} s(T),
    \]
    å…¶ä¸­ \(s(T)\in\{+1,-1\}\) ä¸ºç¬¬ \(T\) ä¸ªå¡«å……çš„ç¬¦å·ã€‚
  </li>
</ul>



    <h2>äº”ã€äº¤äº’è®¡ç®—ä¸å¯è§†åŒ–</h2>


    <!-- ========== äº¤äº’ç¨‹åºéƒ¨åˆ† ========== -->
   <div class="card">
  <h3>äº¤äº’è®¡ç®—ä¸å¯è§†åŒ–</h3>
  <p style="font-size:14px;color:#475569;line-height:1.7;margin-bottom:10px;">
    ğŸ’¡ <b>è¾“å…¥è¯´æ˜ï¼š</b><br>
    â–ª <b>é…åˆ† Î»</b> è¡¨ç¤º Young å›¾çš„è¡Œé•¿åº¦ï¼Œå¦‚ 
    <code>3,2,2</code> å¯ä»£è¡¨ \( \lambda = (3,2,2) \)ã€‚<br>
    â–ª <b>å¾ªç¯é•¿åº¦åºåˆ—</b> è¡¨ç¤ºç½®æ¢çš„å¾ªç¯ç±»å‹ï¼Œä¾‹å¦‚ 
    <code>1,2,2,2</code> è¡¨ç¤º \((1^1 2^3)\)ï¼šä¸€ä¸ª 1-å¾ªç¯ã€ä¸‰ä¸ª 2-å¾ªç¯ã€‚<br>
    â–ª è¾“å…¥å¯ç”¨é€—å·ã€ç©ºæ ¼æˆ–ä¸­æ‹¬å·åˆ†éš”ï¼Œç¨‹åºä¼šè‡ªåŠ¨è§£æã€‚<br>
    â–ª ç‚¹å‡» <b>â€œè®¡ç®— Ï‡<sup>Î»</sup>(C)â€</b> åï¼Œç¨‹åºå°†æšä¸¾æ‰€æœ‰åˆæ³•å¡«å……å¹¶ç»™å‡ºç‰¹å¾æ ‡ä¸å¯è§†åŒ– Young å›¾ã€‚
  </p>

  <div class="input">
    <div><label>é…åˆ† Î»</label><br><input id="partitionInput" value="3,2,2"></div>
    <div><label>å¾ªç¯é•¿åº¦åºåˆ—</label><br><input id="cycleInput" value="1,2,2,2"></div>
    <div><label>å±•ç¤ºæ ·ä¾‹æ•°</label><br><input id="renderLimit" type="number" value="50"></div>
    <div><label>æ ¼å­å°ºå¯¸</label><br><input id="cellSize" type="number" value="22"></div>
  </div>
  <button id="runBtn">è®¡ç®— Ï‡<sup>Î»</sup>(C)</button>
  <div id="result" style="margin-top:10px"></div>
</div>


    <div class="card">
      <h3>ç»“æœä¸ Young å›¾å¯è§†åŒ–</h3>
      <div id="summary"></div>
      <div id="fills" class="flow"></div>
    </div>

  <footer>
  Â©2025 TJM & Felix Â· MIT License
  <a href="https://github.com/ninjaduck7/PermutationGroup-YoungDiagram-Character" 
     target="_blank"
     style="display:inline-block;margin-left:10px;background:#2563eb;color:white;
            padding:4px 10px;border-radius:6px;font-size:12px;text-decoration:none;">
     View on GitHub
  </a>
</footer>

  </div>

  <!-- ================= JSé€»è¾‘ï¼šä¸åŸç‰ˆåŒæ­¥ ================= -->
  <script>
    function colorFor(sym){const p=["#93c5fd","#6ee7b7","#fca5a5","#fde68a","#c7b8ff","#67e8f9","#f9a8d4","#a7f3d0","#fcd34d","#ddd6fe"];return p[(sym-1)%p.length];}
    function parsePartition(s){const arr=s.split(/[ï¼Œ,\s]+/).filter(Boolean).map(x=>parseInt(x,10));if(arr.some(x=>!Number.isFinite(x)||x<=0))throw new Error("é…åˆ†éœ€ä¸ºæ­£æ•´æ•°");return arr;}
    function parseCycle(s){s=s.trim();if(!s)return[];const arr=s.replace(/[\[\]()]/g,"").split(/[ï¼Œ,\s]+/).filter(Boolean).map(x=>parseInt(x,10));return arr.map((l,i)=>({sym:i+1,count:l}));}
    function makeBoard(p){return p.map(n=>Array(n).fill(0));}
    function cloneBoard(b){return b.map(r=>r.slice());}
    function valid(p,r,c){return r>=0&&r<p.length&&c>=0&&c<p[r];}

    function dfsFill(b,p,n,i,s,limit,stored,sum){
      if(i===n.length){if(stored.length<limit)stored.push({board:cloneBoard(b),sign:s});sum.sum+=s;return;}
      const {sym,count}=n[i];if(count===0){dfsFill(b,p,n,i+1,s,limit,stored,sum);return;}
      for(let r0=0;r0<p.length;r0++){
        let c=0;while(c<p[r0]&&b[r0][c]!==0)c++;if(c>=p[r0])continue;
        let box=[[r0,c]],r=r0,col=c,ok=true;
        for(let t=1;t<count;t++){
          if(valid(p,r-1,col)&&b[r-1][col]===0){r--;box.push([r,col]);continue;}
          if(valid(p,r,col+1)&&b[r][col+1]===0){col++;box.push([r,col]);continue;}
          ok=false;break;
        }
        if(!ok)continue;if(valid(p,r-1,col)&&b[r-1][col]===0)continue;
        for(const [rr,cc]of box)b[rr][cc]=sym;
        const up=r0-r;const sign=(up%2===0)?1:-1;
        dfsFill(b,p,n,i+1,s*sign,limit,stored,sum);
        for(const [rr,cc]of box)b[rr][cc]=0;
      }
    }

    function compute(p,c,limit){const b=makeBoard(p);const stored=[];const sum={sum:0};dfsFill(b,p,c,0,1,limit,stored,sum);return{fills:stored,chi:sum.sum};}

    function drawBoardSVG(p,b,cell){
      const h=p.length,w=Math.max(...p),pad=8,W=pad*2+w*cell,H=pad*2+h*cell,ns="http://www.w3.org/2000/svg";
      const svg=document.createElementNS(ns,'svg');
      svg.setAttribute('viewBox',`0 0 ${W} ${H}`);svg.setAttribute('width',W);svg.setAttribute('height',H);
      for(let r=0;r<h;r++){for(let c=0;c<p[r];c++){
        const x=pad+c*cell,y=pad+r*cell;const val=b&&b[r]?b[r][c]:0;
        const rect=document.createElementNS(ns,'rect');
        rect.setAttribute('x',x);rect.setAttribute('y',y);
        rect.setAttribute('width',cell);rect.setAttribute('height',cell);
        rect.setAttribute('fill',val?colorFor(val):'#f1f5f9');
        rect.setAttribute('stroke','#cbd5e1');svg.appendChild(rect);
        if(val){const t=document.createElementNS(ns,'text');
          t.setAttribute('x',x+cell/2);t.setAttribute('y',y+cell/2+4);
          t.setAttribute('text-anchor','middle');t.setAttribute('font-size',Math.max(11,cell*0.55));
          t.setAttribute('fill','#1e293b');t.textContent=val;svg.appendChild(t);}
      }}
      return svg;
    }

    function run(){
      const res=document.getElementById('result'),sum=document.getElementById('summary'),fills=document.getElementById('fills');
      res.innerHTML='';sum.innerHTML='';fills.innerHTML='';
      try{
        const P=parsePartition(document.getElementById('partitionInput').value);
        const C=parseCycle(document.getElementById('cycleInput').value);
        const limit=parseInt(document.getElementById('renderLimit').value)||0;
        const cell=parseInt(document.getElementById('cellSize').value)||22;
        const t0=performance.now();
        const out=compute(P,C,limit);
        const t1=performance.now();
        res.innerHTML=`<div class='pill'>\\(Ï‡^{Î»}(C) = ${out.chi}\\)</div><div class='pill'>æ ·ä¾‹æ•°ï¼š${out.fills.length}</div><div class='pill'>è€—æ—¶ ${(t1-t0).toFixed(1)} ms</div>`;
        const base=document.createElement('div');
        base.innerHTML='<div class="pill">Young å›¾ï¼ˆç©ºï¼‰</div>';
        const sv1=document.createElement('div');sv1.className='svgwrap';sv1.appendChild(drawBoardSVG(P,null,cell));base.appendChild(sv1);
        sum.appendChild(base);
        if(out.fills[0]){
          const ex=document.createElement('div');ex.innerHTML='<div class="pill">åˆæ³•å¡«å……ç¤ºä¾‹</div>';
          const sv2=document.createElement('div');sv2.className='svgwrap';sv2.appendChild(drawBoardSVG(P,out.fills[0].board,cell));ex.appendChild(sv2);
          sum.appendChild(ex);
        }
        for(const [i,f]of out.fills.entries()){
          const card=document.createElement('div');card.className='fill-card';
          card.innerHTML=`<div class='pill'>æ ·ä¾‹ #${i+1}</div><div class='pill'>ç¬¦å·ï¼š${f.sign>0?'<span class=good>+1</span>':'<span class=bad>âˆ’1</span>'}</div>`;
          const box=document.createElement('div');box.className='svgwrap';box.appendChild(drawBoardSVG(P,f.board,cell));card.appendChild(box);
          fills.appendChild(card);
        }
        renderMathInElement(res);
      }catch(e){res.innerHTML=`<div class='warn'>é”™è¯¯ï¼š${e.message}</div>`;}
    }
    document.getElementById('runBtn').addEventListener('click',run);
    run();
  </script>
</body>
</html>
